<!DOCTYPE html> <html> <head> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <link rel="dns-prefetch" href="//use.typekit.net"> <link rel="dns-prefetch" href="//connect.facebook.net"> <link rel="dns-prefetch" href="//platform.twitter.com"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Setting up Hyperion on a Raspberry Pi for use with Lightpack &mdash; Creative Nightly</title> <meta name="google-site-verification" content="NIyg5RnuWdhOCZD2mmca13kZl374sKKhRD74XmMO_fM" /> <style>a,article,body,div,em,h2,header,html,img,nav,p,section,span,time{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}body,p{line-height:2rem}body,h2{color:#494949;font-style:normal}article,header,nav,section{display:block}body,html{height:100%}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:75%}body{font-family:ff-tisa-web-pro,Georgia,serif;font-weight:400;font-size:1.33333rem;padding-top:5rem;overflow-x:hidden;background-color:#fcfcfc}.inline-pullout,h2{font-family:source-sans-pro,Helvetica,sans-serif}a{-webkit-transition:color .1s,background-color .1s;transition:color .1s,background-color .1s;text-decoration:none;color:#2077b2}p a{background-image:-webkit-linear-gradient(270deg,transparent 50%,#709cf9 0);background-image:linear-gradient(180deg,transparent 50%,#709cf9 0);background-position:0 93%;background-size:100% .15rem;text-shadow:.1rem 0 #fcfcfc,.15rem 0 #fcfcfc,-.1rem 0 #fcfcfc,-.15rem 0 #fcfcfc}hr,p a{background-repeat:repeat-x;-webkit-background-size:100% .15rem}p{-webkit-font-feature-settings:'kern' 1,'onum' 1,'liga' 1;font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-bottom:1.54666rem;padding-top:.45334rem}h2{-webkit-font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-weight:700;line-height:3rem;font-size:2.08333rem;margin-bottom:.18749rem;padding-top:.81251rem}@media screen and (min-width:40em){html{font-size:87.5%}body{font-size:1.21429rem}p{margin-bottom:1.49785rem;padding-top:.50215rem}h2{font-size:1.9rem;margin-bottom:.12699rem;padding-top:.87301rem}}@media screen and (min-width:50em){html{font-size:93.75%}body{font-size:1.2rem}p{margin-bottom:1.49199rem;padding-top:.50801rem}h2{font-size:1.87333rem;margin-bottom:.11819rem;padding-top:.88181rem}}@media screen and (min-width:64em){html{font-size:106.25%}body{font-size:1.17647rem}p{margin-bottom:1.48234rem;padding-top:.51766rem}h2{font-size:2.08824rem;margin-bottom:.18911rem;padding-top:.81089rem}}em{font-style:italic}hr{background-image:-webkit-linear-gradient(270deg,transparent 50%,#eee 0);background-image:linear-gradient(180deg,transparent 50%,#eee 0);background-position:0 50%;background-size:100% .15rem;border:0;margin:0 -3%;padding-bottom:2rem;padding-top:2rem}.show-grid{background-image:-webkit-linear-gradient(270deg,hsla(0,0%,59%,.1) 0,hsla(0,0%,100%,0) 1px);background-image:linear-gradient(180deg,hsla(0,0%,59%,.1) 0,hsla(0,0%,100%,0) 1px);background-repeat:repeat-y;-webkit-background-size:100% 1rem;background-size:100% 1rem}.container:after{content:"";display:table;clear:both}img{-ms-interpolation-mode:bicubic;height:auto;vertical-align:middle;width:100%}@media screen and (min-width:40em){img{margin:0 auto;max-width:100%;width:auto}}.container{margin:0 auto;position:relative;width:94%;max-width:42rem}@media screen and (min-width:40em){.container--2col{max-width:40rem}}@media screen and (min-width:50em){.container--2col{max-width:40rem}}@media screen and (min-width:64em){.container--2col{max-width:48rem;padding-left:8rem}}.shift-down{padding-top:3rem}@media screen and (max-width:720px){.shift-down{padding-top:2rem}}.navigation--primary{height:5rem;display:table-cell;vertical-align:middle}.navigation--primary a{margin:0 .5rem}.navigation--primary a:first-child{margin-left:0;margin-right:1rem}.navigation--primary .follow{position:relative;display:inline-block;width:164px;height:28px;top:8px;margin:0 1rem}.navigation--primary .follow a{display:none}.media-window{position:relative;height:323px;height:19rem;-webkit-background-size:cover;background-size:cover;background-position:center 40%;background-color:#333;overflow:hidden}.media-window__content{text-align:center;height:100%;padding:5rem 0 3rem;background:-webkit-linear-gradient(270deg,transparent 35%,rgba(0,0,0,.5));background:linear-gradient(180deg,transparent 35%,rgba(0,0,0,.5))}.home .media-window__content{background:-webkit-linear-gradient(270deg,transparent 0,#000);background:linear-gradient(180deg,transparent 0,#000)}.media-window__brand{max-width:240px}@media screen and (min-width:720px){.home .media-window__content{background:-webkit-linear-gradient(270deg,transparent 35%,rgba(0,0,0,.5));background:linear-gradient(180deg,transparent 35%,rgba(0,0,0,.5))}.media-window__brand{max-width:360px}.media-window--large{height:28rem}}.inline-pullout{font-style:normal;font-weight:400;font-weight:700;font-size:1.06667rem}@media screen and (min-width:40em){.inline-pullout{font-size:.97143rem}}@media screen and (min-width:50em){.inline-pullout{font-size:.96rem}}@media screen and (max-width:63.99em){.inline-pullout{line-height:2rem;margin-bottom:.35199rem;padding-top:.64801rem}}@media screen and (max-width:63.99em) and (min-width:40em){.inline-pullout{margin-bottom:.32056rem;padding-top:.67944rem}}@media screen and (max-width:63.99em) and (min-width:50em){.inline-pullout{margin-bottom:.31679rem;padding-top:.68321rem}}@media screen and (max-width:63.99em) and (min-width:64em){.inline-pullout{margin-bottom:.29117rem;padding-top:.70883rem}}@media screen and (min-width:64em){.inline-pullout{font-size:.88235rem;position:absolute;left:0;margin-top:1rem;top:0}.inline-pullout span{display:block}}.inline-pullout__el{text-transform:uppercase;display:inline-block;line-height:1rem;margin-bottom:-.14801rem;padding-top:.14801rem;letter-spacing:0}@media screen and (min-width:40em){.inline-pullout__el{margin-bottom:-.17944rem;padding-top:.17944rem}}@media screen and (min-width:50em){.inline-pullout__el{margin-bottom:-.18321rem;padding-top:.18321rem}}@media screen and (min-width:64em){.inline-pullout__el{margin-bottom:-.20883rem;padding-top:.20883rem;display:block}.inline-pullout__el--large{font-size:2.33333rem;line-height:2rem;margin-bottom:-.23001rem;padding-top:.23001rem}}@media screen and (min-width:64em) and (min-width:40em){.inline-pullout__el--large{font-size:2.14286rem;margin-bottom:-.29287rem;padding-top:.29287rem}}@media screen and (min-width:64em) and (min-width:50em){.inline-pullout__el--large{font-size:2.13333rem;margin-bottom:-.29601rem;padding-top:.29601rem}}@media screen and (min-width:64em) and (min-width:64em){.inline-pullout__el--large{font-size:2.35294rem;margin-bottom:-.22354rem;padding-top:.22354rem}}.index-item{position:relative}.index-item .inline-pullout{left:-8rem}.masthead{position:fixed;height:5rem;left:0;right:0;top:0;background:#fff;-webkit-box-shadow:0 0 5px 0 rgba(0,0,0,.1);box-shadow:0 0 5px 0 rgba(0,0,0,.1);-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;perspective:1000;-webkit-transition:all .35s ease;transition:all .35s ease;z-index:1}.masthead .container{max-width:none}.brand{font-family:source-sans-pro;font-weight:700;text-transform:uppercase}.is-full-width{width:100%}@media screen and (max-width:600px){.desk,.navigation--primary .follow{display:none}}</style> <script> (function(u){function loadCSS(e,t,n){"use strict";function r(){for(var t,i=0;i<d.length;i++)d[i].href&&d[i].href.indexOf(e)>-1&&(t=!0);t?o.media=n||"all":setTimeout(r)}var o=window.document.createElement("link"),i=t||window.document.getElementsByTagName("script")[0],d=window.document.styleSheets;return o.rel="stylesheet",o.href=e,o.media="only x",i.parentNode.insertBefore(o,i),r(),o}for(var i in u){loadCSS(u[i]);}}(['/assets/css/site.css'])); </script> <noscript> <link rel="stylesheet" type="text/css" href="/assets/css/site.css"> </noscript> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /> <link rel="apple-touch-icon" href="/images/logo.png"/> <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Creative Nightly" /> <meta name="title" content="Setting up Hyperion on a Raspberry Pi for use with Lightpack "> <link rel="canonical" href="http://www.creativenightly.com/2014/07/setting-up-hyperion-on-a-raspberry-pi-for-use-with-lightpack/"> <link rel="author" href="https://plus.google.com/+ScottyVernon"> <meta property="og:title" content="Setting up Hyperion on a Raspberry Pi for use with Lightpack "/> <meta property="og:url" content="http://www.creativenightly.com/2014/07/setting-up-hyperion-on-a-raspberry-pi-for-use-with-lightpack/"/> <meta property="og:image" content="http://www.creativenightly.com/images/article-images/hyperion-raspberry-pi-lightpack.jpg"/> <meta property="og:image" content="http://www.creativenightly.com/images/logo.png"/> <meta property="og:description" content="Get Lightpack working with a Raspberry Pi on Linux and take advantage of insanely low power useage."/> <meta name="description" content="Get Lightpack working with a Raspberry Pi on Linux and take advantage of insanely low power useage."/> <meta property="og:site_name" content="Creative Nightly"> <!-- Async Typekit --> <script> if( window.innerWidth < 800 ) { document.write('\x3Cscript src="//use.typekit.net/adu5fik.js" onload="try{Typekit.load();}catch(e){}" async>\x3C/script>'); } else { document.write('\x3Cscript src="//use.typekit.net/adu5fik.js">\x3C/script>'); document.write('\x3Cscript>try{Typekit.load();}catch(e){}\x3C/script>'); }; </script> <!-- JEKYLL ENV: production --> </head> <body class="show-grid typeset page page--all page--post"> <header class="site-header masthead"> <div class="container"> <nav class="navigation navigation--horizontal navigation--primary"> <a href="/" class="brand">Creative Nightly</a><!-- --><!--<a href="/">Home</a>--><!-- --><a class="desk" href="/archive/">Archive</a><!-- --><a href="/contact/">About + Contact</a><!-- --><p class="follow" data-location="header" onclick="_gs('event', 'Clicked Follow button in header')" ><a href="https://twitter.com/KingScooty" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @KingScooty</a> </p> </nav> </div> </header> <div class="site-body"> <div class="media-window media-window--large is-full-width" style="background-image: url(/images/article-images/hyperion-raspberry-pi-lightpack.jpg)"> <p class="cover-copyright"></p> </div> <article class="content-block shift-down"> <div class="article"> <div class="container container--2col"> <header class="content-block__header "> <h1 class="title">Setting up Hyperion on a Raspberry Pi for use with Lightpack</h1> </header> <div class="inline-pullout"> <time class="date" pubdate datetime="2014-07-22T00:00:00+01:00" title="July 22, 2014"><span class="inline-pullout__el inline-pullout__el--large date__day">22</span> <span class="inline-pullout__el date__month">July</span> <span class="inline-pullout__el date__year">2014<span></time> </div> <section class="content-block__body"> <p><em>Last updated on the <strong><time datetime="2014-07-22T00:00:00+01:00"> 8th January, 2016 </time></strong>.</em></p> <h3 id="introduction">Introduction</h3> <p>I’ve tried quite a few different controllers for controlling LEDs on a Raspberry Pi. Most require a lot of resources, and don’t scale well with an increase in LED numbers. I wanted a controller that could handle 300+ LEDs without breaking a sweat incase I ever decided to move away from Lightpack to a more custom solution. This is where Hyperion comes in.</p> <p>Hyperion is an open source ‘AmbiLight’ implementation. It’s main selling points are:</p> <ul> <li>Low CPU load. For a led string of 50 leds the CPU usage will typically be below 2% on a non-overclocked Pi.</li> <li>Json interface which allows easy integration into scripts.</li> <li>A command line utility allows easy testing and configuration of the color transforms.</li> <li>Priority channels are not coupled to a specific led data provider which means that a provider can post led data and leave without the need to maintain a connection to Hyperion.</li> <li>HyperCon. A tool which helps generate a Hyperion configuration file. The tool will also remember your settings from the previous run.</li> <li>Black border detector.</li> <li>A scriptable effect engine.</li> <li>Boblight server interface to enable the use of clients written for Boblight.</li> <li>Generic software architecture to support new devices and new algorithms easily.</li> </ul> <h3 id="installing-hyperion">Installing Hyperion</h3> <p>Install the following prerequisites first using apt-get.</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">apt-get update
apt-get install libqtcore4 libqtgui4 libqt4-network libusb-1.0-0 libprotobuf7 ca-certificates</code></pre></figure> <p>Next grab the install Hyperion script from the Hyperion github repo.</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">wget -N https://raw.github.com/tvdzwan/hyperion/master/bin/install_hyperion.sh</code></pre></figure> <p>Installing Hyperion is as simple as running the following command.</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">sh ./install_hyperion.sh</code></pre></figure> <p>To get it working with Lightpack, you’ll want to edit the default hyperion config file located at <code class="highlighter-rouge">/etc/hyperion.config.json</code> and change the <strong>type</strong> to “Lightpack”.</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">nano /etc/hyperion.config.json

 <span class="s2">"type"</span>       : <span class="s2">"lightpack"</span>,
 <span class="s2">"output"</span>     : “<span class="s2">",</span></code></pre></figure> <p>Next restart the server with the following command. If all goes well, you should see your Lightpack light up with rainbow colours, before mimicking the colours of your screen.</p> <figure class="highlight"><pre><code class="language-sh" data-lang="sh">service hyperion restart</code></pre></figure> <p><strong><em>Edit 8th January 2016</em></strong> — I’ve since moved away from using Lightpack. The cable mess it created along with the fact that despite being marketed as having 30 LEDs, you can only individually address 10 of them (rubbish!) resulted in me researching into alternate solutions.</p> <p>I’m now running a fully custom setup using 300+ WS2801 LEDs — all individually addressable!</p> <h4 id="my-setup">My Setup</h4> <p>My hardware setup from a wiring perspective is fairly complex, but if anyone wants to me post a write up, tweet me at <a href="http://twitter.com/kingscooty">@KingScooty</a> and let me know!</p> <p>Amongst other things, it allows me to switch sources by simply turning a new device on, and the lights will automatically switch over to the new source. Here’s a few live examples of my setup for anyone that’s interested:</p> <iframe src="https://vine.co/v/izpiA1tebtm/embed/simple" width="600" height="600" frameborder="0"></iframe> <script src="https://platform.vine.co/static/scripts/embed.js"></script> <iframe src="https://vine.co/v/izvprFTBYHw/embed/simple" width="600" height="600" frameborder="0"></iframe> <script src="https://platform.vine.co/static/scripts/embed.js"></script> </section> </div> </div> <!-- <aside class="content-block__aside"> <hr> <div class="container container--2col"> <div class="social social--horizontal"> <div class="social__button social__twitter"> <a href="https://twitter.com/share" class="twitter-share-button" data-via="KingScooty" data-text="Setting up Hyperion on a Raspberry Pi for use with Lightpack" data-related="kingscooty">Tweet</a> </div> <div class="social__button social__facebook"> <div class="fb-like" data-href="http://www.creativenightly.com/2014/07/setting-up-hyperion-on-a-raspberry-pi-for-use-with-lightpack/" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div> </div> <div class="social__button social__google"> <div class="g-plusone" data-size="medium"></div> </div> </div> </div> <hr> </aside> --> <footer class="content-block__footer"> <address class="content-block__author media-object"> <!-- <hr class="dark seperator seperator--tight"> --> <div class="container container--2col"> <a href="http://twitter.com/kingscooty" target="_blank"> <img src="/images/base-images/gravatar.png" alt="Scotty Vernon" class=""> </a> <p>Scotty Vernon is a Creative Developer, and director of <a href="http://wildflame.co.uk" target="_blank">Wildflame Studios</a>. <!--and is based in Manchester, UK.--> <!--He is passionate about creative UI &amp; solving engineering problems on the Web.--> He's worked with the likes of <a href="http://www.bbc.co.uk/sport" target="_blank">BBC Sport</a>, <a href="http://www.bbc.co.uk/rd" target="_blank">BBC R&amp;D</a>, and England cricketer, <a href="http://jamesanderson613.com" target="_blank">James Anderson</a>. <!-- Perfectionist; LFC follower; Massive gamer; Nerd.--> He is never far from twitter, likes German beer, gaming, and occasionally writing in the third person.</p> <!-- <div class="type-p"> Written by <strong><a rel="author" href="https://twitter.com/KingScooty" title="" target="_blank">Scotty Vernon</a></strong> </div> <div class="muted fine-print">Founder, Software Engineer @ Wildflame Studios</div> --> <p class="follow" data-location="article footer" onclick="_gs('event', 'Clicked Follow button in article footer')" ><a href="https://twitter.com/KingScooty" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @KingScooty</a> </p> </div> <!-- <hr class="dark seperator seperator--tight"> --> </address> </footer> <!-- --> <section class="comments content-block__aside"> <div class="container container--2col"> <div id="disqus_thread"></div> </div> </section> </article> </div> <footer class="site-footer"> <div class="container"> &copy; 2016 <nav class="navigation navigation--horizontal navigation--secondary navigation--spacer"> <a href="/">Creative Nightly</a> &middot; <a target="_blank" href="http://twitter.com/kingscooty">KingScooty</a> &middot; <a target="_blank" href="http://www.wildflame.co.uk/">Wildflame</a> </nav> <!-- <nav class="navigation navigation--horizontal navigation--secondary"> <a href="https://twitter.com/kingscooty" title="Follow on Twitter" target="_blank" class="btn-outline"> <i class="icon icon-twitter black"></i> </a> <a href="/feed.xml" title="RSS Feed" class="btn-outline"> <i class="icon icon-rss black"></i> </a> </nav> --> <!-- <p><small>A Wildflame Studios production.</small></p> --> </div> </footer> <!-- <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> --> <script>window.twttr = (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {}; if (d.getElementById(id)) return t; js = d.createElement(s); js.id = id; js.src = "https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); t._e = []; t.ready = function(f) { t._e.push(f); }; return t; }(document, "script", "twitter-wjs"));</script> <!--google analytics tracking code here--> <script type="text/javascript"> !function(g,s,q,r,d){r=g[r]=g[r]||function(){(r.q=r.q||[]).push( arguments)};d=s.createElement(q);q=s.getElementsByTagName(q)[0]; d.src='//d1l6p2sc9645hc.cloudfront.net/tracker.js';q.parentNode. insertBefore(d,q)}(window,document,'script','_gs'); _gs('GSN-238625-J'); _gs('set', 'trackLocal', false); </script> <script type="text/javascript" src="/assets/js/main.js"></script> </body> </html>
