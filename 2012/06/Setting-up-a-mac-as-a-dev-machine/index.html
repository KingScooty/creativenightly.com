<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <link rel="dns-prefetch" href="//use.typekit.net">
  <link rel="dns-prefetch" href="//www.google-analytics.com">
  <link rel="dns-prefetch" href="//ajax.googleapis.com">
  <link rel="dns-prefetch" href="//connect.facebook.net">
  <link rel="dns-prefetch" href="//platform.twitter.com">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up a Mac on OS X 10.8 as a dev machine from scratch &mdash; Creative Nightly</title>

  
  
  <meta name="google-site-verification" content="NIyg5RnuWdhOCZD2mmca13kZl374sKKhRD74XmMO_fM" />
  
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/images/logo.png"/>
  <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Creative Nightly" />
  <meta name="title" content="Setting up a Mac on OS X 10.8 as a dev machine from scratch ">
  <link rel="canonical" href="http://creativenightly.com/2012/06/Setting-up-a-mac-as-a-dev-machine">
  
   
  <link rel="author" href="https://plus.google.com/+ScottyVernon">       
  
  <meta property="og:title" content="Setting up a Mac on OS X 10.8 as a dev machine from scratch "/>
  <meta property="og:url" content="http://creativenightly.com/2012/06/Setting-up-a-mac-as-a-dev-machine"/>
  
  

  
  <meta property="og:description" content="Incorporated provides a great typography, responsive design, author details, semantic markup and more."/>
  <meta name="description" content="Incorporated provides a great typography, responsive design, author details, semantic markup and more."/>
  

  <meta property="og:site_name" content="Creative Nightly">     

</head>
<body>
  
<section class="site-nav">
  <header>
    <nav id="navigation">
      <a class="brand" href="/">
        <!-- <img src="/images/logo.png" alt="Inc"> -->
        CREATIVE NIGHTLY
      </a>
      <a href="/" class="home">Home</a>
      <a href="/archive" class="archive">Archive</a>
      
      
    </nav>
    
  </header>
</section>

<div id="yield">
  
<article>

  <div class="container">
    <header>
      <div class="meta">
        By <address><a rel="author" href="" title="Scotty Vernon" target="_blank">Scotty Vernon</a></address> &mdash;
        <time pubdate datetime="2012-29-June" title="June 29, 2012">June 29, 2012</time>
      </div>
      <h1 class="title">Setting up a Mac on OS X 10.8 as a dev machine from scratch</h1>
      <h2 class="subtitle">The following notes will cover how to set up a fresh Mac &ndash; on OS X Mountain Lion &ndash; as a lean mean coding machine.</h2>
    </header>

    <section>
      <ul>
  <li><em>Last updated on the <strong>16th February 2013</strong></em></li>
</ul>

<p>Originally, these were the notes I took down when setting up the development environment on my new MacBook Air in June 2012, but it’s now become a step by step guide to setting up a full development stack on Mac OS X 10.8 Mountain Lion. I’ll aim to keep this post up to date with the latest dev environments / workflows as new tools are released in order to setup the leanest / efficient development machine possible.</p>

<p>The only prerequisite is an <strong>up-to-date install of OS X 10.8 Mountain Lion</strong>.</p>

<hr />

<ol>
  <li><a href="#1">Install Homebrew</a></li>
  <li><a href="#2">Install Git</a></li>
  <li><a href="#3">Install RVM</a>
    <ul>
      <li><a href="#3.2">Install Ruby</a></li>
      <li><a href="#3.3">Install Sass</a></li>
      <li><a href="#3.3">Install Compass</a></li>
    </ul>
  </li>
  <li><a href="#4">Install Node</a>
    <ul>
      <li><a href="#4.1">Install Yeoman</a></li>
    </ul>
  </li>
  <li><a href="#5">Install MySQL</a></li>
  <li><a href="#6">Install CouchDB</a></li>
  <li><a href="#7">Configure Apache</a>
    <ul>
      <li><a href="#7.2">Setup Virtual Hosts</a></li>
    </ul>
  </li>
</ol>

<hr />

<h5 id="using-sublime-text-2-from-the-command-line">Using Sublime Text 2 from the Command Line</h5>
<p>Before we begin, i’d recommend enabling Sublime Text 2 Command Line support as, for some reason, this isn’t available out of the box.</p>

<p>To setup the command line functionality, type the following into the terminal.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo ln -s <span class="s2">&quot;/Applications/Sublime Text 2.app/Contents/SharedSupport/bin/subl&quot;</span> /usr/bin/subl</code></pre></div>

<hr />

<h2 id="a-id1a-1-homebrew"><a id="1"></a> 1. Homebrew:</h2>

<h3 id="requirements">1.1 Requirements:</h3>

<p>Homebrew has two dependencies: <strong>XQuartz</strong>, and <strong>Xcode</strong>*. </p>

<p><em>It’s a common delusion that the entire 2.8gb install of Xcode is required, however, the only part of Xcode Homebrew requires, is the <strong>Command Line Tools</strong>.</em></p>

<h4 id="xquartz">XQuartz</h4>

<p>As of the 26th July 2012, Apple has dropped X11 from its OS. OS X Mountain Lion does not come bundled with X11, and instead, Apple recommend developers install the more up to date open source XQuartz project, which it will continue to support.</p>

<p><a href="http://xquartz.macosforge.org/landing/">Download XQuartz here</a> then install it, log out, then log back in.</p>

<h4 id="command-line-tools">Command Line Tools</h4>

<p>Homebrew requires Xcode to be installed in order to work, but Xcode is massively bloated for what is actually required by homebrew to build apps.</p>

<p><a href="https://github.com/kennethreitz/osx-gcc-installer/">OSX-GCC-Installer</a> by <a href="http://kennethreitz.com/">Kenneth Reitz</a> was a way round this bloat, but lacked the 10.6/7 SDKs due to licensing restrictions. Apple, however, took interest in this project and were keen to ship something official. </p>

<p>Thus, Apple announced the <strong>Command Line Tools for Xcode</strong>. It’s a 171 MB download that includes all of the tools Homebrew should ever need. Plus, Homebrew officially supports this package.</p>

<p><strong><a href="http://developer.apple.com/downloads">Download the Command Line Tools for Xcode here</a> and install it.</strong></p>

<h3 id="installing-homebrew">1.2 Installing Homebrew:</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">ruby -e <span class="s2">&quot;$(curl -fsSL https://raw.github.com/mxcl/homebrew/go)&quot;</span></code></pre></div>

<p>The script installs Homebrew to <code>/usr/local</code> so that you don’t need sudo when you brew install.</p>

<p>It’s bad practice to install packages using sudo.</p>

<hr />

<blockquote>
  <p>Packages can run arbitrary scripts, which makes sudoing a package manager command as safe as a chainsaw haircut. Sure, it’s fast and definitely going to cut through any obstacles, but you might actually want that obstacle to stay there. <a href="http://howtonode.org/introduction-to-npm">— Isaac Z. Schlueter</a></p>
</blockquote>

<hr />

<h3 id="changing-ownership-of-usrlocal">1.3 Changing ownership of usr/local:</h3>

<p>This step isn’t required for brew, but since we’re on the subject of sudo, i recommend changing ownership of <code>/usr/local</code> from <code>root</code> to <code>$user</code>. This will benefit you when using node’s package manager, and will mean you won’t have to use sudo when installing into <code>/usr/local</code>:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo chown -R <span class="nv">$USER</span> /usr/local</code></pre></div>

<p>There is a massive debate about chown-ing <code>/usr/local</code>, and i agree with <a href="https://gist.github.com/579814#gistcomment-28563">Isaacs comments here</a>.</p>

<hr />

<h2 id="a-id2a-20-git"><a id="2"></a> 2.0 Git:</h2>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">brew install git</code></pre></div>

<p>Next, to setup git. Run the following commands in the Terminal.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">git config --global user.name <span class="s2">&quot;Your Full Name&quot;</span>
git config --global user.email <span class="s2">&quot;Your Email Address&quot;</span></code></pre></div>

<p>Make sure you use the same email address for Git, GitHub, and Heroku.</p>

<hr />

<h2 id="a-id3a-30-rvm"><a id="3"></a> 3.0 RVM:</h2>

<p>RVM stands for Ruby Version Manager. It’s a command line tool which allows you to easily install, manage, and work with multiple ruby environments from interpreters to sets of gems. It also installs gems to your <code>~/</code> <strong>home</strong> directory, instead of using the global root of your machine.</p>

<h4 id="rvm-helps-improve-security">RVM helps improve security</h4>

<p>RVM helps ensure that all aspects of Ruby are completely contained within user space, strongly encouraging safer, non-root use. Use of RVM rubies thus provides a higher level of system security, and therefore reduces risk and cuts overall system downtime. Additionally, since all processes run at the user level, a compromised ruby process cannot compromise the entire system.</p>

<h4 id="say-goodbye-to-sudo-gem-installs">Say goodbye to sudo gem installs</h4>

<p>Yep, that’s right! By using RVM, you won’t have to <code>sudo</code> to install gems on your machine.</p>

<h3 id="install-the-stable-release-version">3.1 Install the stable release version:</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">curl -L https://get.rvm.io <span class="p">|</span> bash -s stable</code></pre></div>

<p>Finish the installation by either running the following command, or closing all shell windows.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">source</span> /Users/USERNAME/.rvm/scripts/rvm</code></pre></div>

<p><em>Replace <strong>username</strong> with your Mac username.</em></p>

<p>Before installing the latest version of ruby with rvm, we need to install <code>libksba</code>.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">brew install libksba</code></pre></div>

<h3 id="a-id32a-32-then-install-ruby-193-with"><a id="3.2"></a> 3.2 Then install Ruby 1.9.3 with:</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">rvm install 1.9.3</code></pre></div>

<h3 id="a-id33a-now-install-sass-and-compass"><a id="3.3"></a> Now install <strong>Sass</strong> and <strong>Compass</strong>.</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">gem install sass
gem install compass</code></pre></div>

<hr />

<h2 id="a-id4a-40-node"><a id="4"></a> 4.0 Node:</h2>

<p>According to the node docs, Brew installs of node are known to be buggy, the node package manager is not included in the install etiher, so the node devs themselves reccommend using the Macintosh package installer:</p>

<p><a href="http://nodejs.org/#download">Download the Node Macintosh package installer</a></p>

<h5 id="note-8th-feb-2013">Note (8th Feb 2013):</h5>

<p>Node devs recently made some changes so that Node no longer installs on OS X via homebrew if Xcode is <strong>not</strong> installed. We haven’t installed Node via homebrew, however this issue <em>still</em> affects us. </p>

<p>Next time you run <strong>npm install</strong> you may come across the following error:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">xcode-select: Error: No Xcode is selected. Use xcode-select -switch &lt;path-to-xcode&gt;, or see the xcode-select manpage <span class="o">(</span>man xcode-select<span class="o">)</span> <span class="k">for</span> further information.</code></pre></div>

<p>To fix this, all you need to do is:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo xcode-select --switch /usr/bin</code></pre></div>

<h3 id="a-id41a-41-yeoman"><a id="4.1"></a> 4.1 Yeoman</h3>

<p>Yeoman is a robust and opinionated set of tools, libraries, and a workflow that can help developers quickly build beautiful, compelling web apps. Tools included are, <strong>Yo</strong> (a scaffolding tool), <strong>Grunt</strong>, <strong>Bower</strong> and more.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">npm install -g yo grunt-cli bower</code></pre></div>

<hr />

<h2 id="a-id5a-50-mysql"><a id="5"></a> 5.0 MySQL:</h2>

<h4 id="sidenote---debugging--path-issues">Sidenote - Debugging / $PATH issues</h4>

<p>I actually had a few issues at this point with my new MacBook air and had to roll back the install of MySQL in order to fix a few issues… </p>

<p>I ran <code>brew doctor</code> to discover that <code>/usr/bin</code> was ahead of <code>/usr/local/bin</code> in my $PATH.</p>

<p>In order to get round this, i needed to edit <code>/etc/paths</code> to fix the order. </p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">subl /etc/paths</code></pre></div>

<p><em>This isn’t a file i recommend playing with often. However, i’ve mentioned it here, as it might come in handy to people needing to do a little DIY machine debugging.</em></p>

<p>Opening a new terminal window and running <code>brew doctor</code> again should confirm this.</p>

<hr />

<h3 id="install">5.1 Install</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">brew install mysql</code></pre></div>

<p>You’re then requried to setup a few things. Run the following commands:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">unset </span>TMPDIR
mysql_install_db --verbose --user<span class="o">=</span><span class="sb">`</span>whoami<span class="sb">`</span> --basedir<span class="o">=</span><span class="s2">&quot;$(brew --prefix mysql)&quot;</span> --datadir<span class="o">=</span>/usr/local/var/mysql --tmpdir<span class="o">=</span>/tmp</code></pre></div>

<p>Followed by the following: <strong><em>(you might also need to restart your machine to fix a conflict with Lion’s copy of MySQL.)</em></strong></p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">mysql.server start</code></pre></div>

<p>Then use the alternative security script:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">/usr/local/Cellar/mysql/5.5.25a/bin/mysql_secure_installation</code></pre></div>

<p>Boom!</p>

<hr />

<h2 id="a-id6a-60-couchdb"><a id="6"></a> 6.0 CouchDB:</h2>

<p>CouchDB is a popular NoSQL database. </p>

<p><em>If you’re not planning on developing node apps with persistent storate, <strong>you can skip this step</strong>.</em></p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">brew install couchdb</code></pre></div>

<hr />

<h2 id="a-id7a-70-configuring-apache-and-virtual-hosts"><a id="7"></a> 7.0 Configuring Apache and Virtual Hosts:</h2>

<p>Type the following command in to edit the <code>httpd.conf</code> file in Sublime Text.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">subl /etc/apache2/httpd.conf</code></pre></div>

<h3 id="enable-php5">7.1 Enable PHP5</h3>

<p>Find <code>line 111</code> and un-comment:</p>

<div class="highlight"><pre><code class="language-apacheconf" data-lang="apacheconf"><span class="nb">LoadModule</span> php5_module libexec/apache2/libphp5.so</code></pre></div>

<h3 id="a-id72a-72-enable-virtual-hosts"><a id="7.2"></a> 7.2 Enable Virtual Hosts</h3>

<p>Find and uncomment the following line. It can be found around <code>line 623</code>.</p>

<div class="highlight"><pre><code class="language-apacheconf" data-lang="apacheconf"><span class="nb">Include</span> <span class="sx">/private/etc/apache2/extra/httpd-vhosts.conf</span></code></pre></div>

<h3 id="creating-a-virtual-hosts-file">7.3 Creating a Virtual Hosts File</h3>

<p>You then want to create a vhosts file, to store all your virtual hosts in. So enter the following commands in the Terminal.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">touch /etc/apache2/other/vhosts.conf
subl /etc/apache2/other/vhosts.conf</code></pre></div>

<p>And enter the following:</p>

<div class="highlight"><pre><code class="language-apacheconf" data-lang="apacheconf"><span class="c">#</span>
<span class="c"># Virtual Hosts</span>
<span class="c">#</span>
<span class="nb">NameVirtualHost</span> *:80

<span class="c">#</span>
<span class="c"># VirtualHost example:</span>
<span class="c"># Almost any Apache directive may go into a VirtualHost container.</span>
<span class="c"># The first VirtualHost section is used for all requests that do not</span>
<span class="c"># match a ServerName or ServerAlias in any &lt;VirtualHost&gt; block.</span>
<span class="c">#</span>
<span class="nt">&lt;VirtualHost</span> <span class="s">*:80</span><span class="nt">&gt;</span>
    <span class="nb">DocumentRoot</span> <span class="s2">&quot;/Users/USERNAME/Sites/SITENAME&quot;</span>
    <span class="nb">ServerAlias</span> dev.*.xip.io
    <span class="nb">ServerName</span> dev.foo
<span class="nt">&lt;/VirtualHost&gt;</span></code></pre></div>

<p>Change <strong>username</strong>, <strong>sitename</strong>, <strong>dev</strong>, and <strong>dev.foo</strong> accordingly, and save the file.</p>

<h3 id="pointing-localhost-to-a-virtual-host-server-name">7.4 Pointing Localhost to a Virtual Host Server Name</h3>

<p>Now we need to point localhost to the server name, in order to enable the virtual host.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">subl /etc/hosts</code></pre></div>

<p>And enter the following on a new line and save:</p>

<div class="highlight"><pre><code class="language-apacheconf" data-lang="apacheconf"><span class="c">#servername to match that in the vhosts.conf file</span>
<span class="err">127</span>.<span class="err">0</span>.<span class="err">0</span>.<span class="err">1</span>   <span class="err">dev</span>.<span class="nb">foo</span></code></pre></div>

<h3 id="restart-apache-and-lock-n-load">7.5 Restart Apache, and Lock ‘N’ Load!</h3>

<p>Lastly in <code>System Settings</code> disable and re-enable <code>Web Sharing</code> in the <code>Sharing</code> panel.</p>

<p>Fire up your favourite web browser and enter the servername, you should be pointed to the doc root you entered in your vhosts file!</p>

<p>Neat, eh! </p>

<p>Now, there are plenty more options you can set for logs etc, but i’ll leave that out as not to over complicate this article.</p>

<hr />

<h2 id="remaining-packages">8.0 Remaining packages:</h2>

<p>There are a lot more packages that can be installed, and need less configuration than the ones mentioned above. I’ve put these in a .dotfile you can <a href="https://raw.github.com/KingScooty/dotfiles/master/.brew">download here</a>, and can be batch executed calling:</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">./.brew</code></pre></div>

<hr />


      
<div class="social">
    
    <div class="social-twitter">
        <a href="https://twitter.com/share" class="twitter-share-button"  data-text="Setting up a Mac on OS X 10.8 as a dev machine from scratch" data-related="kingscooty">Tweet</a>
    </div>
    
    
    <div class="social-facebook">
        <div class="fb-like" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div>
    </div>
    
    
    <div class="social-google">
        <div class="g-plusone" data-size="medium"></div>
    </div>
    
    
    
</div>

    </section>

    <footer>
      <address>
        
          <!-- <img src="/images/ks.png"> -->
          <img src="http://www.gravatar.com/avatar/61f2bf61edacc1d2d6829b69cd530c93.png">
        
        <p>Written by <strong><a rel="author" href="https://twitter.com/KingScooty" title="" target="_blank">Scotty Vernon</a></strong><br>
        <span class="muted">Founder, Software Engineer @ Wildflame Studios</span>
        </p>
      </address>

    </footer>

    

    
    <section>
      <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'scottyvernon'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
    </section>
    
  </div>
</article>

</div>

<footer class="site-footer">
  <div class="container">
    &copy; 2014 
    
    <nav>
      <!-- http://creativenightly.com/ -->
      <a href="http://wildflame.co.uk">Scotty Vernon / @KingScooty</a> <!-- &middot; -->
      <a href="/">Blog</a> <!-- &middot; -->
      
      
    </nav>
    
    <nav class="social">
      
      <a href="https://twitter.com/kingscooty" title="Follow on Twitter" target="_blank"><i class="icon icon-twitter black"></i></a>
      
      
      <a href="http://facebook.com/creativenightly" title="Follow on Facebook" target="_blank"><i class="icon icon-facebook black"></i></a>
          
      <a href="/feed.xml" title="RSS Feed">
        <i class="icon icon-rss black"></i>
      </a>
    </nav>
    <p>Incorporated theme by <a href="https://sendtoinc.com">Inc</a></p>
  </div>
</footer>

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="/assets/main.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=253595308025739";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>




  <script type="text/javascript" src="//use.typekit.net/adu5fik.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
</body>
</html>
