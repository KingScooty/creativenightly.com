<!DOCTYPE html> <html> <head> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <link rel="dns-prefetch" href="//use.typekit.net"> <link rel="dns-prefetch" href="//connect.facebook.net"> <link rel="dns-prefetch" href="//platform.twitter.com"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Optimise Typekit for mobile and improve your Page Insights Score &mdash; Creative Nightly</title> <meta name="google-site-verification" content="NIyg5RnuWdhOCZD2mmca13kZl374sKKhRD74XmMO_fM" /> <style>a,article,body,div,em,h2,header,html,img,nav,p,section,span,time{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}body,p{line-height:2rem}body,h2{color:#494949;font-style:normal}article,header,nav,section{display:block}body,html{height:100%}*,:after,:before{-webkit-box-sizing:border-box;box-sizing:border-box}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:75%}body{font-family:ff-tisa-web-pro,Georgia,serif;font-weight:400;font-size:1.33333rem;padding-top:5rem;overflow-x:hidden;background-color:#fcfcfc}.inline-pullout,h2{font-family:source-sans-pro,Helvetica,sans-serif}a{-webkit-transition:color .1s,background-color .1s;transition:color .1s,background-color .1s;text-decoration:none;color:#2077b2}p a{background-image:-webkit-linear-gradient(270deg,transparent 50%,#709cf9 0);background-image:linear-gradient(180deg,transparent 50%,#709cf9 0);background-position:0 93%;background-size:100% .15rem;text-shadow:.1rem 0 #fcfcfc,.15rem 0 #fcfcfc,-.1rem 0 #fcfcfc,-.15rem 0 #fcfcfc}hr,p a{background-repeat:repeat-x;-webkit-background-size:100% .15rem}p{-webkit-font-feature-settings:'kern' 1,'onum' 1,'liga' 1;font-feature-settings:'kern' 1,'onum' 1,'liga' 1;margin-bottom:1.54666rem;padding-top:.45334rem}h2{-webkit-font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-feature-settings:'dlig' 1,'liga' 1,'lnum' 1,'kern' 1;font-weight:700;line-height:3rem;font-size:2.08333rem;margin-bottom:.18749rem;padding-top:.81251rem}@media screen and (min-width:40em){html{font-size:87.5%}body{font-size:1.21429rem}p{margin-bottom:1.49785rem;padding-top:.50215rem}h2{font-size:1.9rem;margin-bottom:.12699rem;padding-top:.87301rem}}@media screen and (min-width:50em){html{font-size:93.75%}body{font-size:1.2rem}p{margin-bottom:1.49199rem;padding-top:.50801rem}h2{font-size:1.87333rem;margin-bottom:.11819rem;padding-top:.88181rem}}@media screen and (min-width:64em){html{font-size:106.25%}body{font-size:1.17647rem}p{margin-bottom:1.48234rem;padding-top:.51766rem}h2{font-size:2.08824rem;margin-bottom:.18911rem;padding-top:.81089rem}}em{font-style:italic}hr{background-image:-webkit-linear-gradient(270deg,transparent 50%,#eee 0);background-image:linear-gradient(180deg,transparent 50%,#eee 0);background-position:0 50%;background-size:100% .15rem;border:0;margin:0 -3%;padding-bottom:2rem;padding-top:2rem}.show-grid{background-image:-webkit-linear-gradient(270deg,hsla(0,0%,59%,.1) 0,hsla(0,0%,100%,0) 1px);background-image:linear-gradient(180deg,hsla(0,0%,59%,.1) 0,hsla(0,0%,100%,0) 1px);background-repeat:repeat-y;-webkit-background-size:100% 1rem;background-size:100% 1rem}.container:after{content:"";display:table;clear:both}img{-ms-interpolation-mode:bicubic;height:auto;vertical-align:middle;width:100%}@media screen and (min-width:40em){img{margin:0 auto;max-width:100%;width:auto}}.container{margin:0 auto;position:relative;width:94%;max-width:42rem}@media screen and (min-width:40em){.container--2col{max-width:40rem}}@media screen and (min-width:50em){.container--2col{max-width:40rem}}@media screen and (min-width:64em){.container--2col{max-width:48rem;padding-left:8rem}}.shift-down{padding-top:3rem}@media screen and (max-width:720px){.shift-down{padding-top:2rem}}.navigation--primary{height:5rem;display:table-cell;vertical-align:middle}.navigation--primary a{margin:0 .5rem}.navigation--primary a:first-child{margin-left:0;margin-right:1rem}.navigation--primary .follow{position:relative;display:inline-block;width:164px;height:28px;top:8px;margin:0 1rem}.navigation--primary .follow a{display:none}.media-window{position:relative;height:323px;height:19rem;-webkit-background-size:cover;background-size:cover;background-position:center 40%;background-color:#333;overflow:hidden}.media-window__content{text-align:center;height:100%;padding:5rem 0 3rem;background:-webkit-linear-gradient(270deg,transparent 35%,rgba(0,0,0,.5));background:linear-gradient(180deg,transparent 35%,rgba(0,0,0,.5))}.home .media-window__content{background:-webkit-linear-gradient(270deg,transparent 0,#000);background:linear-gradient(180deg,transparent 0,#000)}.media-window__brand{max-width:240px}@media screen and (min-width:720px){.home .media-window__content{background:-webkit-linear-gradient(270deg,transparent 35%,rgba(0,0,0,.5));background:linear-gradient(180deg,transparent 35%,rgba(0,0,0,.5))}.media-window__brand{max-width:360px}.media-window--large{height:28rem}}.inline-pullout{font-style:normal;font-weight:400;font-weight:700;font-size:1.06667rem}@media screen and (min-width:40em){.inline-pullout{font-size:.97143rem}}@media screen and (min-width:50em){.inline-pullout{font-size:.96rem}}@media screen and (max-width:63.99em){.inline-pullout{line-height:2rem;margin-bottom:.35199rem;padding-top:.64801rem}}@media screen and (max-width:63.99em) and (min-width:40em){.inline-pullout{margin-bottom:.32056rem;padding-top:.67944rem}}@media screen and (max-width:63.99em) and (min-width:50em){.inline-pullout{margin-bottom:.31679rem;padding-top:.68321rem}}@media screen and (max-width:63.99em) and (min-width:64em){.inline-pullout{margin-bottom:.29117rem;padding-top:.70883rem}}@media screen and (min-width:64em){.inline-pullout{font-size:.88235rem;position:absolute;left:0;margin-top:1rem;top:0}.inline-pullout span{display:block}}.inline-pullout__el{text-transform:uppercase;display:inline-block;line-height:1rem;margin-bottom:-.14801rem;padding-top:.14801rem;letter-spacing:0}@media screen and (min-width:40em){.inline-pullout__el{margin-bottom:-.17944rem;padding-top:.17944rem}}@media screen and (min-width:50em){.inline-pullout__el{margin-bottom:-.18321rem;padding-top:.18321rem}}@media screen and (min-width:64em){.inline-pullout__el{margin-bottom:-.20883rem;padding-top:.20883rem;display:block}.inline-pullout__el--large{font-size:2.33333rem;line-height:2rem;margin-bottom:-.23001rem;padding-top:.23001rem}}@media screen and (min-width:64em) and (min-width:40em){.inline-pullout__el--large{font-size:2.14286rem;margin-bottom:-.29287rem;padding-top:.29287rem}}@media screen and (min-width:64em) and (min-width:50em){.inline-pullout__el--large{font-size:2.13333rem;margin-bottom:-.29601rem;padding-top:.29601rem}}@media screen and (min-width:64em) and (min-width:64em){.inline-pullout__el--large{font-size:2.35294rem;margin-bottom:-.22354rem;padding-top:.22354rem}}.index-item{position:relative}.index-item .inline-pullout{left:-8rem}.masthead{position:fixed;height:5rem;left:0;right:0;top:0;background:#fff;-webkit-box-shadow:0 0 5px 0 rgba(0,0,0,.1);box-shadow:0 0 5px 0 rgba(0,0,0,.1);-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-perspective:1000;perspective:1000;-webkit-transition:all .35s ease;transition:all .35s ease;z-index:1}.masthead .container{max-width:none}.brand{font-family:source-sans-pro;font-weight:700;text-transform:uppercase}.is-full-width{width:100%}@media screen and (max-width:600px){.desk,.navigation--primary .follow{display:none}}</style> <script> (function(u){function loadCSS(e,t,n){"use strict";function r(){for(var t,i=0;i<d.length;i++)d[i].href&&d[i].href.indexOf(e)>-1&&(t=!0);t?o.media=n||"all":setTimeout(r)}var o=window.document.createElement("link"),i=t||window.document.getElementsByTagName("script")[0],d=window.document.styleSheets;return o.rel="stylesheet",o.href=e,o.media="only x",i.parentNode.insertBefore(o,i),r(),o}for(var i in u){loadCSS(u[i]);}}(['/assets/css/site.css'])); </script> <noscript> <link rel="stylesheet" type="text/css" href="/assets/css/site.css"> </noscript> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" /> <link rel="apple-touch-icon" href="/images/logo.png"/> <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="Creative Nightly" /> <meta name="title" content="Optimise Typekit for mobile and improve your Page Insights Score "> <link rel="canonical" href="http://www.creativenightly.com/2015/02/Optimising-Typekit-for-mobile-devices/"> <link rel="author" href="https://plus.google.com/+ScottyVernon"> <meta property="og:title" content="Optimise Typekit for mobile and improve your Page Insights Score "/> <meta property="og:url" content="http://www.creativenightly.com/2015/02/Optimising-Typekit-for-mobile-devices/"/> <meta property="og:image" content="http://www.creativenightly.com/images/article-images/2015-02-09-page_insights.png"/> <meta property="og:image" content="http://www.creativenightly.com/images/logo.png"/> <meta property="og:description" content="Here's two pretty interesting things you can do to optimise Typekit for mobile and improve your page insight score."/> <meta name="description" content="Here's two pretty interesting things you can do to optimise Typekit for mobile and improve your page insight score."/> <meta property="og:site_name" content="Creative Nightly"> <!-- Async Typekit --> <script> if( window.innerWidth < 800 ) { document.write('\x3Cscript src="//use.typekit.net/adu5fik.js" onload="try{Typekit.load();}catch(e){}" async>\x3C/script>'); } else { document.write('\x3Cscript src="//use.typekit.net/adu5fik.js">\x3C/script>'); document.write('\x3Cscript>try{Typekit.load();}catch(e){}\x3C/script>'); }; </script> <!-- JEKYLL ENV: production --> </head> <body class="show-grid typeset page page--all page--post"> <header class="site-header masthead"> <div class="container"> <nav class="navigation navigation--horizontal navigation--primary"> <a href="/" class="brand">Creative Nightly</a><!-- --><!--<a href="/">Home</a>--><!-- --><a class="desk" href="/archive/">Archive</a><!-- --><a href="/contact/">About + Contact</a><!-- --><p class="follow" data-location="header" onclick="_gs('event', 'Clicked Follow button in header')" ><a href="https://twitter.com/KingScooty" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @KingScooty</a> </p> </nav> </div> </header> <div class="site-body"> <div class="media-window media-window--large is-full-width" style="background-image: url(/images/article-images/2015-02-09-page_insights.png)"> <p class="cover-copyright"></p> </div> <article class="content-block shift-down"> <div class="article"> <div class="container container--2col"> <header class="content-block__header "> <h1 class="title">Optimise Typekit for mobile and improve your Page Insights Score</h1> </header> <div class="inline-pullout"> <time class="date" pubdate datetime="2015-02-14T00:00:00+00:00" title="February 14, 2015"><span class="inline-pullout__el inline-pullout__el--large date__day">14</span> <span class="inline-pullout__el date__month">February</span> <span class="inline-pullout__el date__year">2015<span></time> </div> <section class="content-block__body"> <p><a href="https://developers.google.com/speed/pagespeed/insights/">Google Page Insights</a> is a really neat tool from Google that grabs a page of your site and reports back statistics on load performance and user experience. However, if you’re using Typekit, Google Page Insights can be pretty mean – this is due to Typekit typically loading in as a render blocking script in the head.</p> <p>So how can we speed up Typekit for mobile users, while preserving the rich flashless experience on desktop?</p> <h3 id="asynchronous-font-loading">Asynchronous font loading</h3> <p>Font libraries like Typekit offer a method to load in their fonts asynchronously, thus allowing the rest of the page to render while the fonts download. <strong>However, the downside to this is that annoying flash of unstyled text.</strong> In some cases a well formed font stack can prevent this flash of text from being drastic – or even noticeable – but what if that’s not an option?</p> <h3 id="stop-render-blocking-just-for-mobile">1. Stop render blocking <em>just for mobile</em></h3> <p><strong>The aim of the game for mobile is speed.</strong> I don’t care what anyone else has to say on the matter. If you’re a designer designing for mobile and thinking about anything else other than speed/performance, you’re wrong! It’s perfectly acceptable for the flash of unstyled fonts on mobile – chances are mobile visitors are here purely for the content, not the bells and whistles.</p> <p>The trick here is to wrap the Typekit load script in a little if statement that detects what conditions to swap render blocking to async mode, before writing the required load script elements to the DOM.</p> <p>In the example below, I’ve got for a simple browser width detction. Any browser <em>below</em> 800px wide on page load will get the async non-render blocking treatment.</p> <noscript><pre>400: Invalid request
</pre></noscript> <script src="https://gist.github.com/a419eb8a4f820b5f60f2.js"> </script> <h3 id="vend-a-seperate-kit-with-opentype-features-disabled">2. Vend a seperate kit with OpenType features disabled</h3> <p>TypeKit now comes with OpenType features enabled for the majority of its fonts.</p> <blockquote> <p>OpenType layout features are typographic extras built into fonts, involving substituting different glyphs or repositioning glyphs to achieve better typography. OpenType features include things such as kerning, ligatures, small caps, oldstyle figures, and many more things. Support for such goodies is part of CSS3.</p> </blockquote> <p>This is all great news, <strong>but these features come at a cost</strong>, typically 20 kb+ <em>per font</em>. An overhead you can probably do without for smaller screens.</p> <p>The trick here is create <strong>2 different kits for mobile and desktop</strong>. If we use the snippet above, all we need to do it add the kit code inside the if statements so that any mobile visitors will get the smaller Typekit file, and desktop users will get the larger file with all the extra features.</p> <noscript><pre>400: Invalid request
</pre></noscript> <script src="https://gist.github.com/f8eb664f2ad02cab003d.js"> </script> <h3 id="remove-typekit-from-mobile-all-together">3. Remove Typekit from mobile all together</h3> <p>Bit drastic, but if you’re happy with your font stack, why not remove Typekit from mobile devices all together? After all, the fastest HTTP request is the one not made at all.</p> <p>Here’s the above snippet adjusted for this scenario.</p> <noscript><pre>400: Invalid request
</pre></noscript> <script src="https://gist.github.com/2bf2ddbd3054c76b5c7a.js"> </script> <h3 id="bask-in-the-glory-of-your-improved-score">4. Bask in the glory of your improved score</h3> <p>Now all that’s left to do is bask in the glory of your improved Page Insights score! Creative Nightly scores a whopping 95/100 for mobile and 84/100 for desktop. <strong><em>That’s the difference async typekit makes!</em></strong></p> </section> </div> </div> <!-- <aside class="content-block__aside"> <hr> <div class="container container--2col"> <div class="social social--horizontal"> <div class="social__button social__twitter"> <a href="https://twitter.com/share" class="twitter-share-button" data-via="KingScooty" data-text="Optimise Typekit for mobile and improve your Page Insights Score" data-related="kingscooty">Tweet</a> </div> <div class="social__button social__facebook"> <div class="fb-like" data-href="http://www.creativenightly.com/2015/02/Optimising-Typekit-for-mobile-devices/" data-width="150" data-layout="button_count" data-action="like" data-show-faces="true" data-send="false"></div> </div> <div class="social__button social__google"> <div class="g-plusone" data-size="medium"></div> </div> </div> </div> <hr> </aside> --> <footer class="content-block__footer"> <address class="content-block__author media-object"> <!-- <hr class="dark seperator seperator--tight"> --> <div class="container container--2col"> <a href="http://twitter.com/kingscooty" target="_blank"> <img src="/images/base-images/gravatar.png" alt="Scotty Vernon" class=""> </a> <p>Scotty Vernon is a Creative Developer, and director of <a href="http://wildflame.co.uk" target="_blank">Wildflame Studios</a>. <!--and is based in Manchester, UK.--> <!--He is passionate about creative UI &amp; solving engineering problems on the Web.--> He's worked with the likes of <a href="http://www.bbc.co.uk/sport" target="_blank">BBC Sport</a>, <a href="http://www.bbc.co.uk/rd" target="_blank">BBC R&amp;D</a>, and England cricketer, <a href="http://jamesanderson613.com" target="_blank">James Anderson</a>. <!-- Perfectionist; LFC follower; Massive gamer; Nerd.--> He is never far from twitter, likes German beer, gaming, and occasionally writing in the third person.</p> <!-- <div class="type-p"> Written by <strong><a rel="author" href="https://twitter.com/KingScooty" title="" target="_blank">Scotty Vernon</a></strong> </div> <div class="muted fine-print">Founder, Software Engineer @ Wildflame Studios</div> --> <p class="follow" data-location="article footer" onclick="_gs('event', 'Clicked Follow button in article footer')" ><a href="https://twitter.com/KingScooty" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @KingScooty</a> </p> </div> <!-- <hr class="dark seperator seperator--tight"> --> </address> </footer> <!-- --> <section class="comments content-block__aside"> <div class="container container--2col"> <div id="disqus_thread"></div> </div> </section> </article> </div> <footer class="site-footer"> <div class="container"> &copy; 2016 <nav class="navigation navigation--horizontal navigation--secondary navigation--spacer"> <a href="/">Creative Nightly</a> &middot; <a target="_blank" href="http://twitter.com/kingscooty">KingScooty</a> &middot; <a target="_blank" href="http://www.wildflame.co.uk/">Wildflame</a> </nav> <!-- <nav class="navigation navigation--horizontal navigation--secondary"> <a href="https://twitter.com/kingscooty" title="Follow on Twitter" target="_blank" class="btn-outline"> <i class="icon icon-twitter black"></i> </a> <a href="/feed.xml" title="RSS Feed" class="btn-outline"> <i class="icon icon-rss black"></i> </a> </nav> --> <!-- <p><small>A Wildflame Studios production.</small></p> --> </div> </footer> <!-- <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script> --> <script>window.twttr = (function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {}; if (d.getElementById(id)) return t; js = d.createElement(s); js.id = id; js.src = "https://platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); t._e = []; t.ready = function(f) { t._e.push(f); }; return t; }(document, "script", "twitter-wjs"));</script> <!--google analytics tracking code here--> <script type="text/javascript"> if (window.location.hostname != 'localhost') { !function(g,s,q,r,d){r=g[r]=g[r]||function(){(r.q=r.q||[]).push( arguments)};d=s.createElement(q);q=s.getElementsByTagName(q)[0]; d.src='//d1l6p2sc9645hc.cloudfront.net/tracker.js';q.parentNode. insertBefore(d,q)}(window,document,'script','_gs'); _gs('GSN-238625-J'); _gs('set', 'trackLocal', false); } </script> <script type="text/javascript" src="/assets/js/main.js"></script> </body> </html>
